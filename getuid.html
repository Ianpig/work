<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Get User Id</title>
  <script>
    window.fbAsyncInit = function() {
            FB.init({
            appId: '332556740572935',
            status: true,
            cookie: true,
            xfbml: true
        });
        FB.getLoginStatus(function(response) {
            if (response.status === 'connected') {
                toggleButton(true);
            } else {
              toggleButton(false);
            }
        });
    };

    // Load the SDK asynchronously
    (function(d){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all.js";
    ref.parentNode.insertBefore(js, ref);
    }(document));

    function login() {
        FB.login(function(response) {

        statusChangeCallback(response);
        toggleButton(true);
        });            
    }

    function logout() {
        FB.logout(function(response) {
            window.localStorage.removeItem('userId');
            toggleButton(false);
        });
    }

    function toggleButton(islogin) {
      if(islogin){
        document.getElementById('logout').style.display = 'block';
        document.getElementById('login').style.display = 'none';
      } else {
        document.getElementById('logout').style.display = 'none';
        document.getElementById('login').style.display = 'block'; 
      }
    }


  </script>
  <style>
  .fbaccount {
    width: 171px;
    height: 40px;
    background: #4267b2;
    color: #fff;
    border-radius: 5px;
    display: none;
  }
  </style>
</head>
<body>
  登入即可獲取User Id。
  <button class="fbaccount" id="login" onclick="login();">Login Facebook</button>
  <br>
  <button class="fbaccount" id="logout" onclick="logout();">Logout from Facebook</button>
  <script>
  function statusChangeCallback({authResponse : { userID = '' }}){
    if(userID){
      window.localStorage.setItem('userId', userID);
    }
  }
  </script>
</body>
</html>
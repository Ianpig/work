<!doctype html>
<html lang="zh-hant">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv ="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=1" />
<link rel="shortcut icon" href="">
<title></title>
<meta property="og:type" content="website">
<meta property="og:title" content="" />
<meta itemprop="name" content="">
<meta name="description" content="">
<meta name="robots" content="noindex">
<meta property="og:description" content="" />
<meta itemprop="description" content="">
<meta property="og:image" content="" />
<meta itemprop="image" content="" />
<meta property="og:url" content="" />
<meta itemprop="url" content="">
<link rel="stylesheet" href="css/json-css.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBKHiwZTnzIDam9bK8vzk5mhu2rl8z48CQ"
  type="text/javascript"></script>
</head>
<script type="text/javascript">
$(function(){
  $('.content').hide();
  $('#search').bind('click',(function(){
  $.ajax({
    type:'GET',
    url:'https://data.kaohsiung.gov.tw/Opendata/DownLoad.aspx?Type=2&CaseNo1=AF&CaseNo2=1&FileType=2&Lang=C&FolderType=O',
    success:function(data){
      $('.content').show();
      $('.content-list').html('');
    var thisData = JSON.parse(data);
    $.each(thisData,function(i,item){
      if($('#dist').val()==item['行政區']){
        work = '<li class="list-data">\
        <h2>'+item["測  照  地  點"]+'</h2>\
        <p>拍照方向：'+item['測照方向']+'</p>\
        <p>偵測類型：'+item['功能']+'</p>\
        <p>設置區域：'+item['行政區']+'</p>\
        <p>設置地點： <a href="https://www.google.com.tw/maps/place/'+item.緯度Lat+','+item.經度Lng+'" target=_blank>\
        地圖觀看</a>\
        </p>\
      </li>';
      $('.content-list').append(work);
      xsite =  item.緯度Lat;
      ysite = item.經度Lng;
          } 
        });
      }
    });
  }));
});
  function initMap() {
  var map = new google.maps.Map(document.getElementById('map'), {
    zoom: 10,
    center: {lat: -33.9, lng: 151.2}
  });

  setMarkers(map);
}
// The following example creates complex markers to indicate beaches near
// Sydney, NSW, Australia. Note that the anchor is set to (0,32) to correspond
// to the base of the flagpole.

// Data for the markers consisting of a name, a LatLng and a zIndex for the
// order in which these markers should display on top of each other.
/*
var beaches = [
  ['Bondi Beach', -33.890542, 151.274856, 4],
  ['Coogee Beach', -33.923036, 151.259052, 5],
  ['Cronulla Beach', -34.028249, 151.157507, 3],
  ['Manly Beach', -33.80010128657071, 151.28747820854187, 2],
  ['Maroubra Beach', -33.950198, 151.259302, 1]
];

function setMarkers(map) {
  // Adds markers to the map.

  // Marker sizes are expressed as a Size of X,Y where the origin of the image
  // (0,0) is located in the top left of the image.

  // Origins, anchor positions and coordinates of the marker increase in the X
  // direction to the right and in the Y direction down.
  var image = {
    url: 'images/beachflag.png',
    // This marker is 20 pixels wide by 32 pixels high.
    size: new google.maps.Size(20, 32),
    // The origin for this image is (0, 0).
    origin: new google.maps.Point(0, 0),
    // The anchor for this image is the base of the flagpole at (0, 32).
    anchor: new google.maps.Point(0, 32)
  };
  // Shapes define the clickable region of the icon. The type defines an HTML
  // <area> element 'poly' which traces out a polygon as a series of X,Y points.
  // The final coordinate closes the poly by connecting to the first coordinate.
  var shape = {
    coords: [1, 1, 1, 20, 18, 20, 18, 1],
    type: 'poly'
  };
  for (var i = 0; i < beaches.length; i++) {
    var beach = beaches[i];
    var marker = new google.maps.Marker({
      position: {lat: beach[1], lng: beach[2]},
      map: map,
      icon: image,
      shape: shape,
      title: beach[0],
      zIndex: beach[3]
    });
  }
}*/

</script>
<body>

  <div class="container">
    <div class="banner">
      <h1 class="title">高雄違規照相查詢</h1>
      <form>
        <div class="form-style">
          <div class="select-style">
            <select name="abc" id="dist">
              <option value="三民區">三民區</option>
              <option value="小港區">小港區</option>
              <option value="左營區">左營區</option>
              <option value="前鎮區">前鎮區</option>
              <option value="苓雅區">苓雅區</option>
              <option value="前金區">前金區</option>
              <option value="新興區">新興區</option>
              <option value="楠梓區">楠梓區</option>
              <option value="鼓山區">鼓山區</option>
              <option value="楠梓區">楠梓區</option>
              <option value="鹽埕區">鹽埕區</option>
              <option value="鳳山區">鳳山區</option>
              <option value="楠梓區">楠梓區</option>
              <option value="大寮區">大寮區</option>
              <option value="仁武區">仁武區</option>
              <option value="林園區">林園區</option>
              <option value="岡山區">岡山區</option>
              <option value="路竹區">路竹區</option>
              <option value="旗山區">旗山區</option>
              <option value="橋頭區">橋頭區</option>
              <option value="燕巢區">燕巢區</option>
              <option value="美濃區">美濃區</option>
              <option value="鳥松區">鳥松區</option>
              <option value="湖內區">湖內區</option>
              <option value="梓官區">梓官區</option>
              <option value="永安區">永安區</option>
              <option value="茄萣區">茄萣區</option>
              <option value="彌陀區">彌陀區</option>
              <option value="六龜區">六龜區</option>
              <option value="大社區">大社區</option>
            </select>
          </div>
            <!-- <input type="submit" value="搜尋" id="serch"> -->
            <a href="#list" id="search" class="search-button" >搜尋</a>
        </div>
      </form>
    </div>

    <div class="content" id="list">
      <ul class="content-list">

      </ul>
    </div>
    <div id="map">
      
    </div>
  </div>
</body>

</html>
